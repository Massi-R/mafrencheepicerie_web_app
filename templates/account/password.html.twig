{% extends 'base.html.twig' %}

{% block title %} Modifier le mot de passe - Ma French Epicerie {% endblock %}

{% block content %}
    <div class="container-fluid min-vh-100 d-flex align-items-center justify-content-center">
        <div class="card shadow p-4 rounded">
            {% for flash_message in app.flashes('success') %}
                <div class="alert alert-success mb-4">
                    {{ flash_message }}
                </div>
            {% endfor %}

            {% for flash_message in app.flashes('danger') %}
                <div class="alert alert-danger mb-4">
                    {{ flash_message }}
                </div>
            {% endfor %}

            <h1 class="text-center mb-4">Modifier mon mot de passe</h1>

            <a href="{{ path('app_account') }}" class="mb-3 d-block text-center">Retourner Ã  mon compte</a>

            {{ form_start(form, {'attr': {'class': 'row g-3'}}) }}

            <div class="mb-3">
                {{ form_label(form.old_password, 'Ancien mot de passe', {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.old_password, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.old_password) }}
            </div>

            <div class="mb-3">
                {{ form_label(form.new_password.first, 'Nouveau mot de passe', {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.new_password.first, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.new_password.first) }}
            </div>

            <div class="mb-3">
                {{ form_label(form.new_password.second, 'Confirmer le nouveau mot de passe', {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.new_password.second, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.new_password.second) }}
            </div>

            <div class="d-grid">
                {{ form_widget(form.submit, {'attr': {'class': 'btn btn-primary'}}) }}
            </div>

            {{ form_end(form) }}
        </div>
    </div>
{% endblock %}
